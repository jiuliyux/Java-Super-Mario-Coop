# Java-based Super Mario Co-op Game

本项目是一款基于 Java 开发的「超级玛丽」风格 2D 横版卷轴游戏，实现了双人合作游玩、关卡选择、道具系统和游戏记录存档等功能。游戏界面基于 Java Swing 实现，关卡地图通过文本文件配置，并使用 MySQL 数据库存储用户登录信息、游戏成绩和通关进度。完整开发说明见仓库中的《Java大作业开发报告.pdf》。

## 功能概览

- **双人合作模式**
  - 支持 1P / 2P 同屏游戏，分别统计两名玩家的得分和血量。
  - 任一角色死亡后游戏结束，增加协作与挑战性。

- **账号系统与数据库**
  - 登录 / 注册界面，使用 MySQL 数据库存储用户信息。
  - 对用户密码进行 SHA-256 加密后存储，提升安全性。
  - 记录用户历史游戏结果与通关进度，游戏结束时自动写入数据库。

- **关卡与地图系统**
  - 关卡选择界面，可选择不同关卡进行游玩。
  - 通过文本文件描述地图，将关卡配置解析为整型二维数组，再批量生成地图中的砖块、金币、水管、蘑菇、乌龟等元素。
  - 方便后续扩展更多关卡和元素。

- **核心游戏机制**
  - 玩家移动、跳跃与碰撞检测（砖块、金币、蘑菇、水管等）。
  - 子弹系统：玩家可发射子弹攻击乌龟，命中后清理敌人并增加得分。
  - 敌人 AI：乌龟和蘑菇具备简单的自动移动和转向逻辑，与地图边界和障碍物碰撞后反向。
  - 血量与死亡判定：碰到特定障碍（例如 wave）扣血，被乌龟碰撞直接死亡。
  - 通关判定：角色到达城堡区域视为通关。

- **游戏控制**
  - 键盘监听控制角色移动与跳跃。
  - 按键 `P`：暂停游戏；按键 `Q`：结束当前关卡并返回关卡选择界面。
  - 背景音乐播放与停止控制。

## 技术栈

- 语言：Java
- 框架 / 库：Java Swing
- 数据库：MySQL
- 其他：
  - 使用 `DatabaseUtil` 封装数据库连接与资源关闭。
  - 使用 `PasswordUtil` 实现基于 SHA-256 的密码加密与校验逻辑。
  - 地图资源与关卡配置通过文本文件驱动，易于扩展。

> 详细的类设计、模块划分、关键代码截图以及数据库表结构请参考项目根目录中的《Java大作业开发报告.pdf》。

## 运行环境与配置（示例说明）

1. **准备环境**
   - 安装 JDK（建议使用现代版本，如 JDK 8+）。
   - 安装 MySQL，并创建用于本项目的数据库（如 `mario`）。
   - 在数据库中创建用户信息表、游戏记录表和通关进度表（结构可参考开发报告中的数据表截图）。

2. **配置数据库连接**
   - 在项目中的 `DatabaseUtil` 类中，修改数据库连接 URL、用户名和密码，使之与你本地 MySQL 配置一致。

3. **导入项目**
   - 使用 IntelliJ IDEA 或其他支持 Java 的 IDE。
   - 将本仓库作为已有项目导入（Import Project / Open）。
   - 确保 `src` 目录已被设置为源码根目录。

4. **启动游戏**
   - 在 IDE 中找到程序的入口类（包含 `public static void main(String[] args)` 的类），如初始界面 `EnterFrame` 等。
   - 直接运行该入口类，即可打开登录 / 关卡选择 / 游戏界面。

## 项目展望

根据当前开发报告，后续可考虑的扩展方向包括：

- 增加更多关卡与地图元素，提升游戏挑战性与可玩性。  
- 增加更多可选角色和道具，丰富游戏策略。  
- 优化和扩展音效系统，增强沉浸感。  
- 尝试加入联网对战或协作模式，实现多人在线游戏。

---

如需了解完整设计过程、详细业务需求分析、系统测试截图、数据库表结构等内容，请直接查看仓库中的《Java大作业开发报告.pdf》。
